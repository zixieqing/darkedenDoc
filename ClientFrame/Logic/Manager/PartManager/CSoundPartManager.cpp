//-----------------------------------------------------------------------------
// CSoundPartManager.cpp
//-----------------------------------------------------------------------------
#include "Client_PCH.h"
#include "CSoundPartManager.h"

//-----------------------------------------------------------------------------
// Release
//-----------------------------------------------------------------------------
void
CSoundPartManager::Release()
{
	//---------------------------------------------------
	// 내부에 있는 LPDIRECTSOUNDBUFFER를 다 지워준다.
	//---------------------------------------------------
	if (m_pData!=NULL)
	{
		for (int i=0; i<m_nPart; i++)
		{		
			if (m_pData[i]!=NULL)
			{
				m_pData[i]->Stop();
				m_pData[i]->Release();
				m_pData[i] = NULL;
			}
		}
	}
	
	//---------------------------------------------------
	// base class release
	//---------------------------------------------------
	CPartManager<WORD, BYTE, LPDIRECTSOUNDBUFFER>::Release();
}

//-----------------------------------------------------------------------------
// Stop
//-----------------------------------------------------------------------------
void
CSoundPartManager::Stop()
{
	//---------------------------------------------------
	// 내부에 있는 LPDIRECTSOUNDBUFFER를 다 stop한다.
	//---------------------------------------------------
	if (m_pData!=NULL)
	{
		for (int i=0; i<m_nPart; i++)
		{		
			if (m_pData[i]!=NULL)
			{
				m_pData[i]->Stop();				
			}
		}
	}
}